# UnityTauriGame - Платформа для управления и запуска Unity игр

## Описание проекта

UnityTauriGame — это современное настольное приложение для управления и запуска Unity игр. Проект представляет собой гибридное приложение, объединяющее возможности Tauri (Rust backend) и современного фронтенда на Solid.js, позволяя запускать Unity игры через встроенный WebGL сервер.

## Архитектура

### Фронтенд (Client Side)
- **Framework**: Solid.js (реактивный JavaScript фреймворк)
- **Язык**: TypeScript
- **Сборка**: Vite
- **Состояние**: Управление состоянием через сигналы Solid.js

### Бэкенд (Server Side)
- **Язык**: Rust
- **Фреймворк**: Tauri
- **База данных**: SQLite (rusqlite)
- **HTTP сервер**: tiny_http
- **Асинхронность**: Tokio

### Структура проекта

```
UnityTauriGame/
├── src/                        # Frontend код (Solid.js + TypeScript)
│   ├── components/            # Переиспользуемые компоненты
│   ├── contexts/              # React-подобные контексты (AuthContext)
│   ├── pages/                 # Страницы приложения
│   ├── services/              # Сервисы (уведомления)
│   ├── viewmodels/            # ViewModel слой (MVI архитектура)
│   └── assets/                # Статические ресурсы
├── src-tauri/                 # Backend код (Rust + Tauri)
│   ├── src/                   # Rust исходники
│   │   ├── application/       # Application сервисы
│   │   ├── domain/            # Domain модели и абстракции
│   │   ├── infrastructure/    # Infrastructure реализации
│   │   ├── presentation/      # DTOs
│   │   ├── usecase/           # Use case логика
│   │   └── webgl_server.rs    # Встроенный WebGL сервер
│   ├── resources/             # Ресурсы (Unity игры)
│   │   └── unity/             # WebGL билды Unity игр
│   └── Cargo.toml             # Зависимости Rust
├── public/                    # Публичные ресурсы
└── package.json               # Зависимости Node.js
```

## Функционал

### Аутентификация
- вход пользователей
- Ролевая система (Администратор / Пользователь)

### Управление играми (для администраторов)
- Добавление новых игр
- Редактирование информации об играх
- Удаление игр
- Просмотр списка всех игр
- Запуск игр для тестирования

### Работа с играми (для пользователей)
- Просмотр каталога игр
- Просмотр детальной информации об играх
- Запуск игр через встроенный WebGL сервер
- Оценка игр (система рейтинга)

### Система рейтинга
- Оценка игр пользователями
- Отображение среднего рейтинга
- Количество голосов за каждую игру

### WebGL сервер
- Встроенный Python HTTP сервер для запуска Unity WebGL игр
- Поддержка сжатых ресурсов (.gz, .br)
- Автоматический запуск и остановка сервера
- Совместимость с Tauri безопасностью

## Технологии

### Frontend
- **Solid.js** - реактивный UI фреймворк
- **TypeScript** - типизированный JavaScript
- **Vite** - быстрая система сборки
- **CSS** - стилизация (без CSS-фреймворков)

### Backend
- **Rust** - безопасный и быстрый системный язык
- **Tauri** - фреймворк для создания настольных приложений
- **SQLite** - встроенная SQL база данных
- **Tokio** - асинхронный runtime
- **TinyHTTP** - легковесный HTTP сервер

### Архитектурные паттерны
- **Clean Architecture** - разделение на слои
- **MVVM/MVI** - ViewModels для управления логикой
- **Repository Pattern** - абстракция доступа к данным
- **Use Cases** - бизнес-логика

## Установка и запуск

### Требования
- Node.js (v18 или выше)
- Rust (v1.70 или выше)
- Python 3 (для WebGL сервера)

### Установка зависимостей
```bash
npm install
cd src-tauri
cargo install tauri-cli
```

### Режим разработки
```bash
npm run tauri dev
```

### Сборка релиза
```bash
npm run tauri build
```

## Безопасность

- CSP (Content Security Policy) настроена для поддержки Unity игр
- Встроенный WebGL сервер запускается в изолированной среде
- Все данные хранятся локально
- Используется безопасное взаимодействие между фронтендом и бэкендом через Tauri API

## Особенности реализации

1. **Встроенный WebGL сервер** - позволяет запускать Unity игры без внешних зависимостей
2. **Ролевая система** - разграничение прав администратора и обычного пользователя
3. **Адаптивная архитектура** - легко расширяемая структура для добавления новых функций
4. **Локальное хранилище** - все данные хранятся локально в SQLite базе
5. **Кроссплатформенность** - приложение работает на Windows, macOS и Linux
